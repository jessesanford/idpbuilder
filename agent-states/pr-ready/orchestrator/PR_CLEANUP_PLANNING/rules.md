# PR_CLEANUP_PLANNING State Rules

## üî¥üî¥üî¥ STATE PURPOSE: Plan SF Artifact Removal üî¥üî¥üî¥

### MANDATORY ACTIONS (R233 COMPLIANT)
Upon entering this state, IMMEDIATELY:

1. **Review discovered artifacts**
   ```bash
   # Load discovery results
   cat PR-DISCOVERY-REPORT-*.md
   cat PR-ARTIFACT-INVENTORY-*.json
   ```

2. **Create cleanup assignments**
   ```markdown
   ## SW Engineer Cleanup Tasks:

   ### Branch: phase1-wave1-branch
   - Remove: todos/, efforts/, agent-states/
   - Remove: orchestrator-state.json
   - Remove: *.todo files
   - Remove: SOFTWARE-FACTORY-STATE-MACHINE.md
   - Verify: No core files affected

   ### Branch: phase1-wave2-branch
   - Remove: rule-library/
   - Remove: templates/
   - Remove: CODE-REVIEW-REPORT.md
   - Remove: .claude/agents/
   ```

3. **Define cleanup validation criteria**
   ```bash
   # For each branch, must verify:
   - Zero SF artifacts remain
   - Core files untouched (main.*, Makefile, etc.)
   - No accidental deletions
   - Git history preserved
   ```

4. **Prioritize cleanup order**
   - Simple branches first (fewer artifacts)
   - Complex branches sequential
   - High-risk branches last
   - Parallel where possible

5. **Create rollback plan**
   ```bash
   # Before cleanup, save:
   - Branch SHA references
   - Artifact inventory
   - Backup strategy
   ```

### EXIT CRITERIA
‚úÖ Cleanup tasks assigned
‚úÖ Validation criteria defined
‚úÖ Rollback plan created
‚úÖ Agent instructions ready

### TRANSITIONS
- Success ‚Üí PR_SPAWN_CLEANUP_AGENTS
- No artifacts found ‚Üí PR_CONSOLIDATION_PLANNING
- Error ‚Üí PR_ERROR_DETECTED

### PROHIBITED ACTIONS
‚ùå Do NOT perform cleanup yourself
‚ùå Do NOT delete any files
‚ùå Do NOT modify branches
‚ùå Do NOT skip planning

### SAFETY REQUIREMENTS
- Document every file to remove
- Never use wildcard deletions
- Preserve commit history
- Create cleanup manifest