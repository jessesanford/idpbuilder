?   	github.com/cnoe-io/idpbuilder/pkg	[no test files]
=== RUN   TestIsCompatible
--- PASS: TestIsCompatible (0.00s)
=== RUN   TestCreateSelfSignedCertificate
--- PASS: TestCreateSelfSignedCertificate (0.00s)
=== RUN   TestGetOrCreateIngressCertificateAndKey
--- PASS: TestGetOrCreateIngressCertificateAndKey (0.00s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/build	0.037s
# github.com/cnoe-io/idpbuilder/pkg/controllers/localbuild [github.com/cnoe-io/idpbuilder/pkg/controllers/localbuild.test]
pkg/controllers/localbuild/argo_test.go:16:2: "k8s.io/apimachinery/pkg/apis/meta/v1/unstructured" imported and not used
pkg/controllers/localbuild/argo_test.go:17:2: "k8s.io/apimachinery/pkg/runtime/schema" imported and not used
# github.com/cnoe-io/idpbuilder/pkg/kind [github.com/cnoe-io/idpbuilder/pkg/kind.test]
pkg/kind/cluster_test.go:232:81: undefined: types.ContainerListOptions
# github.com/cnoe-io/idpbuilder/pkg/util [github.com/cnoe-io/idpbuilder/pkg/util.test]
pkg/util/git_repository_test.go:11:2: "github.com/cnoe-io/idpbuilder/pkg/testutil" imported and not used
=== RUN   TestNewChainValidator
--- PASS: TestNewChainValidator (0.00s)
=== RUN   TestChainValidator_ValidateChain_EmptyChain
--- PASS: TestChainValidator_ValidateChain_EmptyChain (0.00s)
=== RUN   TestChainValidator_ValidateChain_SingleValidCert
--- PASS: TestChainValidator_ValidateChain_SingleValidCert (0.86s)
=== RUN   TestChainValidator_ValidateChain_ChainTooLong
--- PASS: TestChainValidator_ValidateChain_ChainTooLong (1.58s)
=== RUN   TestChainValidator_ValidationModes
=== RUN   TestChainValidator_ValidationModes/Strict_Mode
=== RUN   TestChainValidator_ValidationModes/Lenient_Mode
=== RUN   TestChainValidator_ValidationModes/Insecure_Mode
--- PASS: TestChainValidator_ValidationModes (0.00s)
    --- PASS: TestChainValidator_ValidationModes/Strict_Mode (0.00s)
    --- PASS: TestChainValidator_ValidationModes/Lenient_Mode (0.00s)
    --- PASS: TestChainValidator_ValidationModes/Insecure_Mode (0.00s)
=== RUN   TestCertificateTypeConstants
--- PASS: TestCertificateTypeConstants (0.00s)
=== RUN   TestCertificateExtensionConstants
--- PASS: TestCertificateExtensionConstants (0.00s)
=== RUN   TestDefaultPathConstants
--- PASS: TestDefaultPathConstants (0.00s)
=== RUN   TestTLSVersionConstants
--- PASS: TestTLSVersionConstants (0.00s)
=== RUN   TestTimeoutConstants
--- PASS: TestTimeoutConstants (0.00s)
=== RUN   TestPEMBlockConstants
--- PASS: TestPEMBlockConstants (0.00s)
=== RUN   TestCertificateFieldConstants
--- PASS: TestCertificateFieldConstants (0.00s)
=== RUN   TestErrorMessageConstants
--- PASS: TestErrorMessageConstants (0.00s)
=== RUN   TestPreferredCipherSuites
--- PASS: TestPreferredCipherSuites (0.00s)
=== RUN   TestSecureTLSCurves
--- PASS: TestSecureTLSCurves (0.00s)
=== RUN   TestCertError_Error
=== RUN   TestCertError_Error/error_without_context
=== RUN   TestCertError_Error/error_with_context
=== RUN   TestCertError_Error/error_with_empty_context
--- PASS: TestCertError_Error (0.00s)
    --- PASS: TestCertError_Error/error_without_context (0.00s)
    --- PASS: TestCertError_Error/error_with_context (0.00s)
    --- PASS: TestCertError_Error/error_with_empty_context (0.00s)
=== RUN   TestCertError_Unwrap
--- PASS: TestCertError_Unwrap (0.00s)
=== RUN   TestNewCertError
--- PASS: TestNewCertError (0.00s)
=== RUN   TestNewCertErrorWithContext
--- PASS: TestNewCertErrorWithContext (0.00s)
=== RUN   TestPredefinedErrors
--- PASS: TestPredefinedErrors (0.00s)
=== RUN   TestNewKindCertExtractor
--- PASS: TestNewKindCertExtractor (0.23s)
=== RUN   TestKindCertExtractor_ExtractGiteaCert
--- PASS: TestKindCertExtractor_ExtractGiteaCert (0.11s)
=== RUN   TestKindCertExtractor_ExtractGiteaCert_FeatureDisabled
--- PASS: TestKindCertExtractor_ExtractGiteaCert_FeatureDisabled (0.00s)
=== RUN   TestKindCertExtractor_ExtractGiteaCert_NoCluster
--- PASS: TestKindCertExtractor_ExtractGiteaCert_NoCluster (0.00s)
=== RUN   TestKindCertExtractor_ExtractGiteaCert_NoPod
--- PASS: TestKindCertExtractor_ExtractGiteaCert_NoPod (0.00s)
=== RUN   TestKindCertExtractor_ExtractGiteaCert_CopyFailed
--- PASS: TestKindCertExtractor_ExtractGiteaCert_CopyFailed (1.00s)
=== RUN   TestKindCertExtractor_ExtractGiteaCert_ValidationFailed
--- PASS: TestKindCertExtractor_ExtractGiteaCert_ValidationFailed (0.70s)
=== RUN   TestDefaultCertValidator_ValidateCertificate
--- PASS: TestDefaultCertValidator_ValidateCertificate (0.19s)
=== RUN   TestParseCertificate
--- PASS: TestParseCertificate (0.27s)
=== RUN   TestIsKindFeatureEnabled
=== RUN   TestIsKindFeatureEnabled/enabled_with_true
=== RUN   TestIsKindFeatureEnabled/enabled_with_1
=== RUN   TestIsKindFeatureEnabled/enabled_with_enabled
=== RUN   TestIsKindFeatureEnabled/disabled_with_false
=== RUN   TestIsKindFeatureEnabled/disabled_with_0
=== RUN   TestIsKindFeatureEnabled/disabled_with_empty
=== RUN   TestIsKindFeatureEnabled/disabled_when_not_set
--- PASS: TestIsKindFeatureEnabled (0.00s)
    --- PASS: TestIsKindFeatureEnabled/enabled_with_true (0.00s)
    --- PASS: TestIsKindFeatureEnabled/enabled_with_1 (0.00s)
    --- PASS: TestIsKindFeatureEnabled/enabled_with_enabled (0.00s)
    --- PASS: TestIsKindFeatureEnabled/disabled_with_false (0.00s)
    --- PASS: TestIsKindFeatureEnabled/disabled_with_0 (0.00s)
    --- PASS: TestIsKindFeatureEnabled/disabled_with_empty (0.00s)
    --- PASS: TestIsKindFeatureEnabled/disabled_when_not_set (0.00s)
=== RUN   TestValidateCertificateExpiry
--- PASS: TestValidateCertificateExpiry (0.00s)
=== RUN   TestExpandHomeDir
=== RUN   TestExpandHomeDir/path_with_tilde
=== RUN   TestExpandHomeDir/nested_path_with_tilde
=== RUN   TestExpandHomeDir/absolute_path
=== RUN   TestExpandHomeDir/relative_path
=== RUN   TestExpandHomeDir/empty_path
--- PASS: TestExpandHomeDir (0.00s)
    --- PASS: TestExpandHomeDir/path_with_tilde (0.00s)
    --- PASS: TestExpandHomeDir/nested_path_with_tilde (0.00s)
    --- PASS: TestExpandHomeDir/absolute_path (0.00s)
    --- PASS: TestExpandHomeDir/relative_path (0.00s)
    --- PASS: TestExpandHomeDir/empty_path (0.00s)
=== RUN   TestSanitizeRegistryName
=== RUN   TestSanitizeRegistryName/registry_with_port
=== RUN   TestSanitizeRegistryName/registry_with_path
=== RUN   TestSanitizeRegistryName/complex_registry
=== RUN   TestSanitizeRegistryName/simple_name
=== RUN   TestSanitizeRegistryName/ip_with_port
--- PASS: TestSanitizeRegistryName (0.00s)
    --- PASS: TestSanitizeRegistryName/registry_with_port (0.00s)
    --- PASS: TestSanitizeRegistryName/registry_with_path (0.00s)
    --- PASS: TestSanitizeRegistryName/complex_registry (0.00s)
    --- PASS: TestSanitizeRegistryName/simple_name (0.00s)
    --- PASS: TestSanitizeRegistryName/ip_with_port (0.00s)
=== RUN   TestNewLocalCertStorage
--- PASS: TestNewLocalCertStorage (0.00s)
=== RUN   TestNewLocalCertStorage_HomeDir
--- PASS: TestNewLocalCertStorage_HomeDir (0.00s)
=== RUN   TestLocalCertStorage_StoreAndLoad
--- PASS: TestLocalCertStorage_StoreAndLoad (0.45s)
=== RUN   TestLocalCertStorage_LoadNonexistent
--- PASS: TestLocalCertStorage_LoadNonexistent (0.00s)
=== RUN   TestLocalCertStorage_Exists
--- PASS: TestLocalCertStorage_Exists (0.47s)
=== RUN   TestLocalCertStorage_Remove
--- PASS: TestLocalCertStorage_Remove (0.56s)
=== RUN   TestLocalCertStorage_ListCertificates
--- PASS: TestLocalCertStorage_ListCertificates (0.19s)
=== RUN   TestLocalCertStorage_StoreAt
--- PASS: TestLocalCertStorage_StoreAt (0.38s)
=== RUN   TestNewDefaultTrustStoreManager
--- PASS: TestNewDefaultTrustStoreManager (0.00s)
=== RUN   TestAddCertificate
    trust_test.go:30: Skipping until split-002 integration provides CreateTestCertificate and isFeatureEnabled
--- SKIP: TestAddCertificate (0.00s)
=== RUN   TestSetInsecureRegistry
[SECURITY] INSECURE_SET: insecure.registry.com - Registry marked insecure
--- PASS: TestSetInsecureRegistry (0.00s)
=== RUN   TestCreateHTTPClient
--- PASS: TestCreateHTTPClient (0.02s)
=== RUN   TestIsFeatureEnabled
--- PASS: TestIsFeatureEnabled (0.00s)
=== RUN   TestNewCertificate
--- PASS: TestNewCertificate (0.12s)
=== RUN   TestCertificateIsValid
--- PASS: TestCertificateIsValid (0.73s)
=== RUN   TestCertificateIsExpired
--- PASS: TestCertificateIsExpired (0.89s)
=== RUN   TestCertificateWillExpireSoon
--- PASS: TestCertificateWillExpireSoon (0.38s)
=== RUN   TestCertificateGetCommonName
--- PASS: TestCertificateGetCommonName (0.60s)
=== RUN   TestCertificateGetSANs
--- PASS: TestCertificateGetSANs (0.13s)
=== RUN   TestNewCertificateBundle
--- PASS: TestNewCertificateBundle (0.00s)
=== RUN   TestCertificateBundleHasPrivateKey
--- PASS: TestCertificateBundleHasPrivateKey (0.00s)
=== RUN   TestCertificateBundleIsValid
--- PASS: TestCertificateBundleIsValid (0.85s)
=== RUN   TestCertificateBundleUpdateValidityPeriod
--- PASS: TestCertificateBundleUpdateValidityPeriod (0.04s)
=== RUN   TestNewTLSConfig
--- PASS: TestNewTLSConfig (0.00s)
=== RUN   TestTLSConfigToTLSConfig
--- PASS: TestTLSConfigToTLSConfig (0.00s)
=== RUN   TestTLSConfigAddClientCertificate
--- PASS: TestTLSConfigAddClientCertificate (0.00s)
=== RUN   TestTLSConfigSetRootCA
--- PASS: TestTLSConfigSetRootCA (0.22s)
=== RUN   TestNewBasicCertificateValidator
--- PASS: TestNewBasicCertificateValidator (0.00s)
=== RUN   TestBasicCertificateValidatorValidate
--- PASS: TestBasicCertificateValidatorValidate (1.28s)
=== RUN   TestBasicCertificateValidatorValidateChain
--- PASS: TestBasicCertificateValidatorValidateChain (0.77s)
=== RUN   TestBasicCertificateValidatorIsExpired
--- PASS: TestBasicCertificateValidatorIsExpired (0.90s)
=== RUN   TestBasicCertificateValidatorWillExpireSoon
--- PASS: TestBasicCertificateValidatorWillExpireSoon (0.48s)
=== RUN   TestParseCertificateFromPEM
--- PASS: TestParseCertificateFromPEM (0.00s)
=== RUN   TestParseCertificatesFromPEM
--- PASS: TestParseCertificatesFromPEM (0.85s)
=== RUN   TestLoadCertificateFromReader
--- PASS: TestLoadCertificateFromReader (0.13s)
=== RUN   TestCertificateError
--- PASS: TestCertificateError (0.00s)
=== RUN   TestNewCertPoolManager
--- PASS: TestNewCertPoolManager (0.00s)
=== RUN   TestCertPoolManager_GetPool
--- PASS: TestCertPoolManager_GetPool (0.00s)
=== RUN   TestCertPoolManager_ClearCache
--- PASS: TestCertPoolManager_ClearCache (0.00s)
=== RUN   TestNewTransportConfigurer
--- PASS: TestNewTransportConfigurer (0.00s)
=== RUN   TestTransportConfigurer_ConfigureTransport
--- PASS: TestTransportConfigurer_ConfigureTransport (0.00s)
=== RUN   TestDefaultTLSConfig
    utilities_test.go:87: Skipping until split-002 integration provides DefaultTLSConfig
--- SKIP: TestDefaultTLSConfig (0.00s)
=== RUN   TestTLSConfig_LoadConfigFromEnv
    utilities_test.go:92: Skipping until split-002 integration provides TLSConfig functions
--- SKIP: TestTLSConfig_LoadConfigFromEnv (0.00s)
=== RUN   TestTLSConfig_ToGoTLSConfig
    utilities_test.go:97: Skipping until split-002 integration provides TLSConfig functions
--- SKIP: TestTLSConfig_ToGoTLSConfig (0.00s)
=== RUN   TestInitSecurityLogger
--- PASS: TestInitSecurityLogger (0.00s)
=== RUN   TestNewCertValidator
    utilities_test.go:116: Skipping until split-002 integration provides NewCertValidator
--- SKIP: TestNewCertValidator (0.00s)
=== RUN   TestCertValidator_ValidateCertificate
    utilities_test.go:121: Skipping until split-002 integration provides validator functions
--- SKIP: TestCertValidator_ValidateCertificate (0.00s)
=== RUN   TestCertValidator_ValidateExpiredCertificate
    utilities_test.go:126: Skipping until split-002 integration provides validator functions
--- SKIP: TestCertValidator_ValidateExpiredCertificate (0.00s)
=== RUN   TestParseEnvBool
--- PASS: TestParseEnvBool (0.00s)
=== RUN   TestLoadCertificatesFromDir
--- PASS: TestLoadCertificatesFromDir (0.00s)
=== RUN   TestExtractHostname
--- PASS: TestExtractHostname (0.00s)
=== RUN   TestSanitizeUnsanitizeName
--- PASS: TestSanitizeUnsanitizeName (0.00s)
=== RUN   TestDefaultCertValidator_ValidateCertificate_ValidCert
--- PASS: TestDefaultCertValidator_ValidateCertificate_ValidCert (0.31s)
=== RUN   TestDefaultCertValidator_ValidateCertificate_NilCert
--- PASS: TestDefaultCertValidator_ValidateCertificate_NilCert (0.00s)
=== RUN   TestDefaultCertValidator_ValidateCertificate_ExpiredCert
--- PASS: TestDefaultCertValidator_ValidateCertificate_ExpiredCert (0.10s)
=== RUN   TestDefaultCertValidator_ValidateCertificate_NoSubjectNames
--- PASS: TestDefaultCertValidator_ValidateCertificate_NoSubjectNames (0.29s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/certs	16.115s
=== RUN   TestNewChainValidator
--- PASS: TestNewChainValidator (0.00s)
=== RUN   TestChainValidator_AddCertificates
--- PASS: TestChainValidator_AddCertificates (0.75s)
=== RUN   TestChainValidator_SetVerifyTime
--- PASS: TestChainValidator_SetVerifyTime (0.00s)
=== RUN   TestChainValidator_ValidateChain
--- PASS: TestChainValidator_ValidateChain (0.49s)
=== RUN   TestChainValidator_ValidateChainWithHostname
--- PASS: TestChainValidator_ValidateChainWithHostname (0.63s)
=== RUN   TestChainValidator_BuildChain
--- PASS: TestChainValidator_BuildChain (1.04s)
=== RUN   TestChainValidator_GetChainInfo
--- PASS: TestChainValidator_GetChainInfo (0.72s)
=== RUN   TestChainValidator_GetChainInfoExpired
--- PASS: TestChainValidator_GetChainInfoExpired (1.02s)
=== RUN   TestParsePEMCertificate
--- PASS: TestParsePEMCertificate (0.00s)
=== RUN   TestParsePEMCertificates
--- PASS: TestParsePEMCertificates (0.00s)
=== RUN   TestCertificateToPEM
--- PASS: TestCertificateToPEM (0.00s)
=== RUN   TestGetCertificateInfo
--- PASS: TestGetCertificateInfo (0.04s)
=== RUN   TestValidateCertificateTime
--- PASS: TestValidateCertificateTime (0.89s)
=== RUN   TestIsSelfSigned
--- PASS: TestIsSelfSigned (0.55s)
=== RUN   TestGetCertificateFingerprint
--- PASS: TestGetCertificateFingerprint (0.00s)
=== RUN   TestFilterCertificatesByUsage
--- PASS: TestFilterCertificatesByUsage (0.68s)
=== RUN   TestSortCertificatesByExpiry
--- PASS: TestSortCertificatesByExpiry (0.75s)
=== RUN   TestExtractCertificateChainFromPEM
--- PASS: TestExtractCertificateChainFromPEM (0.00s)
=== RUN   TestFindCertificatesBySubject
--- PASS: TestFindCertificatesBySubject (0.27s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/certvalidation	7.838s
?   	github.com/cnoe-io/idpbuilder/pkg/cmd	[no test files]
?   	github.com/cnoe-io/idpbuilder/pkg/cmd/create	[no test files]
?   	github.com/cnoe-io/idpbuilder/pkg/cmd/delete	[no test files]
=== RUN   TestPrintPackageSecrets
no secrets found
--- PASS: TestPrintPackageSecrets (0.00s)
=== RUN   TestPrintAllPackageSecrets
--- PASS: TestPrintAllPackageSecrets (0.00s)
=== RUN   TestOutput
--- PASS: TestOutput (0.00s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/cmd/get	0.043s
=== RUN   TestValidateKubernetesYaml
--- PASS: TestValidateKubernetesYaml (0.00s)
=== RUN   TestParsePackageStrings
--- PASS: TestParsePackageStrings (0.00s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/cmd/helpers	0.040s
?   	github.com/cnoe-io/idpbuilder/pkg/cmd/version	[no test files]
?   	github.com/cnoe-io/idpbuilder/pkg/controllers	[no test files]
=== RUN   TestReconcileCustomPkg
    controller_test.go:52: 
        	Error Trace:	/home/vscode/workspaces/idpbuilder-oci-build-push/efforts/phase1/phase-integration-workspace/repo/pkg/controllers/custompackage/controller_test.go:52
        	Error:      	Received unexpected error:
        	            	unable to start control plane itself: failed to start the controlplane. retried 5 times: fork/exec ../../../bin/k8s/1.29.1-linux-amd64/etcd: no such file or directory
        	Test:       	TestReconcileCustomPkg
--- FAIL: TestReconcileCustomPkg (0.02s)
=== RUN   TestReconcileCustomPkgAppSet
    controller_test.go:265: 
        	Error Trace:	/home/vscode/workspaces/idpbuilder-oci-build-push/efforts/phase1/phase-integration-workspace/repo/pkg/controllers/custompackage/controller_test.go:265
        	Error:      	Expected nil, but got: &fmt.wrapError{msg:"unable to start control plane itself: failed to start the controlplane. retried 5 times: fork/exec ../../../bin/k8s/1.29.1-linux-amd64/etcd: no such file or directory", err:(*fmt.wrapError)(0xc00038d5e0)}
        	Test:       	TestReconcileCustomPkgAppSet
    controller_test.go:271: 
        	Error Trace:	/home/vscode/workspaces/idpbuilder-oci-build-push/efforts/phase1/phase-integration-workspace/repo/pkg/controllers/custompackage/controller_test.go:271
        	Error:      	Expected nil, but got: &errors.errorString{s:"must specify Config"}
        	Test:       	TestReconcileCustomPkgAppSet
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0xa0 pc=0x18843e7]

goroutine 107 [running]:
github.com/cnoe-io/idpbuilder/pkg/controllers/custompackage.TestReconcileCustomPkgAppSet.func1()
	/home/vscode/workspaces/idpbuilder-oci-build-push/efforts/phase1/phase-integration-workspace/repo/pkg/controllers/custompackage/controller_test.go:276 +0x27
created by github.com/cnoe-io/idpbuilder/pkg/controllers/custompackage.TestReconcileCustomPkgAppSet in goroutine 79
	/home/vscode/workspaces/idpbuilder-oci-build-push/efforts/phase1/phase-integration-workspace/repo/pkg/controllers/custompackage/controller_test.go:275 +0x62a
FAIL	github.com/cnoe-io/idpbuilder/pkg/controllers/custompackage	0.122s
=== RUN   TestGitRepositoryContentReconcile
=== RUN   TestGitRepositoryContentReconcile/files_modified
--- PASS: TestGitRepositoryContentReconcile (0.24s)
    --- PASS: TestGitRepositoryContentReconcile/files_modified (0.24s)
=== RUN   TestGitRepositoryContentReconcileEmbedded
=== RUN   TestGitRepositoryContentReconcileEmbedded/should_update_content
--- PASS: TestGitRepositoryContentReconcileEmbedded (0.09s)
    --- PASS: TestGitRepositoryContentReconcileEmbedded/should_update_content (0.08s)
=== RUN   TestGitRepositoryReconcile
/tmp/test1581845911
=== RUN   TestGitRepositoryReconcile/repo_updates
--- PASS: TestGitRepositoryReconcile (0.17s)
    --- PASS: TestGitRepositoryReconcile/repo_updates (0.14s)
=== RUN   TestGitRepositoryPostReconcile
--- PASS: TestGitRepositoryPostReconcile (0.00s)
=== RUN   TestGitHubCreateRepository
--- PASS: TestGitHubCreateRepository (0.00s)
=== RUN   TestGitHubGetProviderCredentials
--- PASS: TestGitHubGetProviderCredentials (0.00s)
=== RUN   TestGitHubGetRepository
--- PASS: TestGitHubGetRepository (0.00s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/controllers/gitrepository	0.543s
FAIL	github.com/cnoe-io/idpbuilder/pkg/controllers/localbuild [build failed]
=== RUN   TestNewFallbackManager
--- PASS: TestNewFallbackManager (0.00s)
=== RUN   TestFallbackManager_InsecureMode
=== RUN   TestFallbackManager_InsecureMode/insecure_mode_enabled
⚠️  INSECURE MODE: Bypassing certificate validation for test.registry
=== RUN   TestFallbackManager_InsecureMode/insecure_mode_disabled
--- PASS: TestFallbackManager_InsecureMode (0.00s)
    --- PASS: TestFallbackManager_InsecureMode/insecure_mode_enabled (0.00s)
    --- PASS: TestFallbackManager_InsecureMode/insecure_mode_disabled (0.00s)
=== RUN   TestFallbackManager_RetryLogic
⚠️  Strategy 'test-strategy' attempt 1 failed for test.registry: mock strategy failed
⚠️  Strategy 'test-strategy' attempt 2 failed for test.registry: mock strategy failed
✅ Fallback strategy 'test-strategy' succeeded for test.registry
--- PASS: TestFallbackManager_RetryLogic (0.03s)
=== RUN   TestFallbackManager_ContextCancellation
--- PASS: TestFallbackManager_ContextCancellation (0.00s)
=== RUN   TestFallbackManager_AllStrategiesFail
--- PASS: TestFallbackManager_AllStrategiesFail (0.00s)
=== RUN   TestFallbackManager_Options
--- PASS: TestFallbackManager_Options (0.00s)
=== RUN   TestFallbackManager_ValidateConfiguration
=== RUN   TestFallbackManager_ValidateConfiguration/valid_configuration
=== RUN   TestFallbackManager_ValidateConfiguration/nil_trust_store
=== RUN   TestFallbackManager_ValidateConfiguration/zero_max_retries
=== RUN   TestFallbackManager_ValidateConfiguration/negative_retry_delay
--- PASS: TestFallbackManager_ValidateConfiguration (0.00s)
    --- PASS: TestFallbackManager_ValidateConfiguration/valid_configuration (0.00s)
    --- PASS: TestFallbackManager_ValidateConfiguration/nil_trust_store (0.00s)
    --- PASS: TestFallbackManager_ValidateConfiguration/zero_max_retries (0.00s)
    --- PASS: TestFallbackManager_ValidateConfiguration/negative_retry_delay (0.00s)
=== RUN   TestSystemCertStrategy
--- PASS: TestSystemCertStrategy (0.15s)
=== RUN   TestCachedCertStrategy
--- PASS: TestCachedCertStrategy (0.00s)
=== RUN   TestCachedCertStrategy_InvalidCert
--- PASS: TestCachedCertStrategy_InvalidCert (0.00s)
=== RUN   TestSelfSignedAcceptStrategy
⚠️  WARNING: Accepting self-signed certificate for test.registry
This reduces security. Use --insecure flag to suppress this warning.
--- PASS: TestSelfSignedAcceptStrategy (0.00s)
=== RUN   TestSanitizeFilename
=== RUN   TestSanitizeFilename/registry.example.com:5000
=== RUN   TestSanitizeFilename/registry.example.com/path
=== RUN   TestSanitizeFilename/registry_with_spaces
=== RUN   TestSanitizeFilename/registry<>:*/|?"
=== RUN   TestSanitizeFilename/normal.registry
--- PASS: TestSanitizeFilename (0.00s)
    --- PASS: TestSanitizeFilename/registry.example.com:5000 (0.00s)
    --- PASS: TestSanitizeFilename/registry.example.com/path (0.00s)
    --- PASS: TestSanitizeFilename/registry_with_spaces (0.00s)
    --- PASS: TestSanitizeFilename/registry<>:*/|?" (0.00s)
    --- PASS: TestSanitizeFilename/normal.registry (0.00s)
=== RUN   TestValidateCertificateData
=== RUN   TestValidateCertificateData/empty_data
=== RUN   TestValidateCertificateData/valid_PEM_certificate
=== RUN   TestValidateCertificateData/missing_begin_marker
=== RUN   TestValidateCertificateData/missing_end_marker
=== RUN   TestValidateCertificateData/not_PEM_format
--- PASS: TestValidateCertificateData (0.00s)
    --- PASS: TestValidateCertificateData/empty_data (0.00s)
    --- PASS: TestValidateCertificateData/valid_PEM_certificate (0.00s)
    --- PASS: TestValidateCertificateData/missing_begin_marker (0.00s)
    --- PASS: TestValidateCertificateData/missing_end_marker (0.00s)
    --- PASS: TestValidateCertificateData/not_PEM_format (0.00s)
=== RUN   TestCreateCacheEntry
--- PASS: TestCreateCacheEntry (0.00s)
=== RUN   TestNewCachedCertStrategy
--- PASS: TestNewCachedCertStrategy (0.00s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/fallback	0.195s
=== RUN   TestNewInsecureHandler
--- PASS: TestNewInsecureHandler (0.00s)
=== RUN   TestInsecureHandler_GlobalMode
⚠⚠⚠⚠⚠⚠⚠⚠⚠⚠
WARNING: Running in INSECURE mode
Certificate validation is DISABLED for ALL registries
This should ONLY be used in development environments
⚠⚠⚠⚠⚠⚠⚠⚠⚠⚠
--- PASS: TestInsecureHandler_GlobalMode (0.00s)
=== RUN   TestInsecureHandler_RegistrySpecific
⚠️  WARNING: Certificate validation disabled for registry1.example.com
⚠️  WARNING: Certificate validation disabled for registry2.example.com
--- PASS: TestInsecureHandler_RegistrySpecific (0.00s)
=== RUN   TestInsecureHandler_Disable
⚠⚠⚠⚠⚠⚠⚠⚠⚠⚠
WARNING: Running in INSECURE mode
Certificate validation is DISABLED for ALL registries
This should ONLY be used in development environments
⚠⚠⚠⚠⚠⚠⚠⚠⚠⚠
--- PASS: TestInsecureHandler_Disable (0.00s)
=== RUN   TestInsecureHandler_WarnOnce
⚠️  WARNING: Certificate validation disabled for test.registry
⚠️  WARNING: Certificate validation disabled for other.registry
--- PASS: TestInsecureHandler_WarnOnce (0.00s)
=== RUN   TestInsecureHandler_WarnGlobal
⚠⚠⚠⚠⚠⚠⚠⚠⚠⚠
WARNING: Running in INSECURE mode
Certificate validation is DISABLED for ALL registries
This should ONLY be used in development environments
⚠⚠⚠⚠⚠⚠⚠⚠⚠⚠
--- PASS: TestInsecureHandler_WarnGlobal (0.00s)
=== RUN   TestInsecureHandler_StateTransitions
⚠⚠⚠⚠⚠⚠⚠⚠⚠⚠
WARNING: Running in INSECURE mode
Certificate validation is DISABLED for ALL registries
This should ONLY be used in development environments
⚠⚠⚠⚠⚠⚠⚠⚠⚠⚠
⚠️  WARNING: Certificate validation disabled for specific.registry
--- PASS: TestInsecureHandler_StateTransitions (0.00s)
=== RUN   TestInsecureHandler_MultipleRegistries
⚠️  WARNING: Certificate validation disabled for registry1.example.com
⚠️  WARNING: Certificate validation disabled for registry2.example.com
⚠️  WARNING: Certificate validation disabled for localhost:5000
⚠️  WARNING: Certificate validation disabled for my-registry.local
--- PASS: TestInsecureHandler_MultipleRegistries (0.00s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/insecure	0.003s
=== RUN   TestConvertYamlToObjects
=== RUN   TestConvertYamlToObjects/Single_Deployment
=== RUN   TestConvertYamlToObjects/Multi_Deployment
--- PASS: TestConvertYamlToObjects (0.00s)
    --- PASS: TestConvertYamlToObjects/Single_Deployment (0.00s)
    --- PASS: TestConvertYamlToObjects/Multi_Deployment (0.00s)
=== RUN   TestBuildCustomizedManifests
--- PASS: TestBuildCustomizedManifests (1.27s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/k8s	1.301s
FAIL	github.com/cnoe-io/idpbuilder/pkg/kind [build failed]
?   	github.com/cnoe-io/idpbuilder/pkg/logger	[no test files]
=== RUN   TestParseManifest
=== RUN   TestParseManifest/valid_OCI_manifest
=== RUN   TestParseManifest/valid_Docker_manifest
=== RUN   TestParseManifest/valid_OCI_manifest_list
=== RUN   TestParseManifest/empty_data
=== RUN   TestParseManifest/invalid_JSON
=== RUN   TestParseManifest/missing_mediaType
=== RUN   TestParseManifest/unsupported_mediaType
--- PASS: TestParseManifest (0.00s)
    --- PASS: TestParseManifest/valid_OCI_manifest (0.00s)
    --- PASS: TestParseManifest/valid_Docker_manifest (0.00s)
    --- PASS: TestParseManifest/valid_OCI_manifest_list (0.00s)
    --- PASS: TestParseManifest/empty_data (0.00s)
    --- PASS: TestParseManifest/invalid_JSON (0.00s)
    --- PASS: TestParseManifest/missing_mediaType (0.00s)
    --- PASS: TestParseManifest/unsupported_mediaType (0.00s)
=== RUN   TestValidateManifest
=== RUN   TestValidateManifest/valid_manifest
=== RUN   TestValidateManifest/nil_manifest
=== RUN   TestValidateManifest/invalid_schema_version
=== RUN   TestValidateManifest/missing_mediaType
=== RUN   TestValidateManifest/invalid_mediaType
=== RUN   TestValidateManifest/invalid_config_descriptor
=== RUN   TestValidateManifest/no_layers
--- PASS: TestValidateManifest (0.00s)
    --- PASS: TestValidateManifest/valid_manifest (0.00s)
    --- PASS: TestValidateManifest/nil_manifest (0.00s)
    --- PASS: TestValidateManifest/invalid_schema_version (0.00s)
    --- PASS: TestValidateManifest/missing_mediaType (0.00s)
    --- PASS: TestValidateManifest/invalid_mediaType (0.00s)
    --- PASS: TestValidateManifest/invalid_config_descriptor (0.00s)
    --- PASS: TestValidateManifest/no_layers (0.00s)
=== RUN   TestValidateManifestList
=== RUN   TestValidateManifestList/valid_manifest_list
=== RUN   TestValidateManifestList/nil_manifest_list
=== RUN   TestValidateManifestList/empty_manifests
--- PASS: TestValidateManifestList (0.00s)
    --- PASS: TestValidateManifestList/valid_manifest_list (0.00s)
    --- PASS: TestValidateManifestList/nil_manifest_list (0.00s)
    --- PASS: TestValidateManifestList/empty_manifests (0.00s)
=== RUN   TestCreateManifest
--- PASS: TestCreateManifest (0.00s)
=== RUN   TestComputeDigest
=== RUN   TestComputeDigest/valid_data
=== RUN   TestComputeDigest/empty_data
--- PASS: TestComputeDigest (0.00s)
    --- PASS: TestComputeDigest/valid_data (0.00s)
    --- PASS: TestComputeDigest/empty_data (0.00s)
=== RUN   TestFilterManifestsByPlatform
=== RUN   TestFilterManifestsByPlatform/nil_platform_returns_all
=== RUN   TestFilterManifestsByPlatform/filter_by_amd64_linux
=== RUN   TestFilterManifestsByPlatform/filter_by_arm64
=== RUN   TestFilterManifestsByPlatform/filter_by_non-existent_platform
--- PASS: TestFilterManifestsByPlatform (0.00s)
    --- PASS: TestFilterManifestsByPlatform/nil_platform_returns_all (0.00s)
    --- PASS: TestFilterManifestsByPlatform/filter_by_amd64_linux (0.00s)
    --- PASS: TestFilterManifestsByPlatform/filter_by_arm64 (0.00s)
    --- PASS: TestFilterManifestsByPlatform/filter_by_non-existent_platform (0.00s)
=== RUN   TestGetManifestDigest
--- PASS: TestGetManifestDigest (0.00s)
=== RUN   TestDescriptor_JSON
=== RUN   TestDescriptor_JSON/basic_descriptor
=== RUN   TestDescriptor_JSON/descriptor_with_URLs_and_annotations
=== RUN   TestDescriptor_JSON/descriptor_with_platform
--- PASS: TestDescriptor_JSON (0.00s)
    --- PASS: TestDescriptor_JSON/basic_descriptor (0.00s)
    --- PASS: TestDescriptor_JSON/descriptor_with_URLs_and_annotations (0.00s)
    --- PASS: TestDescriptor_JSON/descriptor_with_platform (0.00s)
=== RUN   TestPlatform_JSON
=== RUN   TestPlatform_JSON/basic_platform
=== RUN   TestPlatform_JSON/platform_with_variant_and_version
=== RUN   TestPlatform_JSON/platform_with_features
--- PASS: TestPlatform_JSON (0.00s)
    --- PASS: TestPlatform_JSON/basic_platform (0.00s)
    --- PASS: TestPlatform_JSON/platform_with_variant_and_version (0.00s)
    --- PASS: TestPlatform_JSON/platform_with_features (0.00s)
=== RUN   TestManifest_JSON
--- PASS: TestManifest_JSON (0.00s)
=== RUN   TestReference_String
=== RUN   TestReference_String/registry_with_tag
=== RUN   TestReference_String/registry_with_namespace_and_tag
=== RUN   TestReference_String/registry_with_digest
=== RUN   TestReference_String/registry_with_tag_and_digest
--- PASS: TestReference_String (0.00s)
    --- PASS: TestReference_String/registry_with_tag (0.00s)
    --- PASS: TestReference_String/registry_with_namespace_and_tag (0.00s)
    --- PASS: TestReference_String/registry_with_digest (0.00s)
    --- PASS: TestReference_String/registry_with_tag_and_digest (0.00s)
=== RUN   TestImageConfig_JSON
--- PASS: TestImageConfig_JSON (0.00s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/oci	0.011s
?   	github.com/cnoe-io/idpbuilder/pkg/printer	[no test files]
?   	github.com/cnoe-io/idpbuilder/pkg/printer/types	[no test files]
?   	github.com/cnoe-io/idpbuilder/pkg/resources/localbuild	[no test files]
?   	github.com/cnoe-io/idpbuilder/pkg/testutil	[no test files]
FAIL	github.com/cnoe-io/idpbuilder/pkg/util [build failed]
?   	github.com/cnoe-io/idpbuilder/pkg/util/files	[no test files]
=== RUN   TestWriteFS
=== RUN   TestWriteFS/single_file
=== RUN   TestWriteFS/file_in_subdir
--- PASS: TestWriteFS (0.00s)
    --- PASS: TestWriteFS/single_file (0.00s)
    --- PASS: TestWriteFS/file_in_subdir (0.00s)
PASS
ok  	github.com/cnoe-io/idpbuilder/pkg/util/fs	0.005s
FAIL
