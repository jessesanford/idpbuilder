# Complete Split Plan for kind-cert-extraction
**Sole Planner**: Code Reviewer Instance code-reviewer-1757726063
**Full Path**: phase1/wave1/kind-cert-extraction
**Parent Branch**: idpbuilder-oci-build-push/phase1/wave1/kind-cert-extraction
**Total Size**: 3170 lines (396% of 800-line limit)
**Splits Required**: 5
**Created**: 2025-09-13 01:12:13

## SPLIT INTEGRITY NOTICE
ALL splits below belong to THIS effort ONLY: phase1/wave1/kind-cert-extraction
NO splits should reference efforts outside this path!

## Split Overview

### Split 001: Core Certificate Extraction
- **Size**: ~650 lines
- **Focus**: Certificate extraction core functionality
- **Components**: pkg/certs/, error handling, helpers
- **Dependencies**: None (foundational)

### Split 002: Kind Cluster Integration
- **Size**: ~680 lines  
- **Focus**: Kind cluster operations and Kubernetes client
- **Components**: pkg/kind/, pkg/k8s/
- **Dependencies**: Split 001 (uses cert types)

### Split 003: Build and Utilities
- **Size**: ~620 lines
- **Focus**: Build operations, TLS handling, utilities
- **Components**: pkg/build/, pkg/util/
- **Dependencies**: Split 001, Split 002

### Split 004: CLI Commands
- **Size**: ~600 lines
- **Focus**: Command-line interface
- **Components**: pkg/cmd/, main.go
- **Dependencies**: Split 001, Split 002, Split 003

### Split 005: Controllers and Integration
- **Size**: ~620 lines
- **Focus**: Controllers and API integration
- **Components**: pkg/controllers/, api/, remaining components
- **Dependencies**: All previous splits

## Split Boundaries (NO OVERLAPS)
| Split | Components | Estimated Lines | Status |
|-------|------------|-----------------|--------|
| 001   | pkg/certs/, cert helpers | 650 | Planned |
| 002   | pkg/kind/, pkg/k8s/ | 680 | Planned |
| 003   | pkg/build/, pkg/util/ | 620 | Planned |
| 004   | pkg/cmd/, main.go | 600 | Planned |
| 005   | pkg/controllers/, api/, globals/ | 620 | Planned |

## Deduplication Matrix
| Component | Split 001 | Split 002 | Split 003 | Split 004 | Split 005 |
|-----------|-----------|-----------|-----------|-----------|-----------|
| pkg/certs | ✅ | ❌ | ❌ | ❌ | ❌ |
| pkg/kind  | ❌ | ✅ | ❌ | ❌ | ❌ |
| pkg/k8s   | ❌ | ✅ | ❌ | ❌ | ❌ |
| pkg/build | ❌ | ❌ | ✅ | ❌ | ❌ |
| pkg/util  | ❌ | ❌ | ✅ | ❌ | ❌ |
| pkg/cmd   | ❌ | ❌ | ❌ | ✅ | ❌ |
| main.go   | ❌ | ❌ | ❌ | ✅ | ❌ |
| pkg/controllers | ❌ | ❌ | ❌ | ❌ | ✅ |
| api/      | ❌ | ❌ | ❌ | ❌ | ✅ |
| globals/  | ❌ | ❌ | ❌ | ❌ | ✅ |
| pkg/logger | ❌ | ❌ | ❌ | ❌ | ✅ |
| pkg/printer | ❌ | ❌ | ❌ | ❌ | ✅ |
| pkg/resources | ❌ | ❌ | ❌ | ❌ | ✅ |

## Implementation Order
1. **Split 001** - Core certificate extraction (foundational)
2. **Split 002** - Kind cluster integration (depends on cert types)
3. **Split 003** - Build and utilities (uses cert and kind)
4. **Split 004** - CLI commands (integrates previous components)
5. **Split 005** - Controllers and final integration

## Verification Checklist
- ✅ No file appears in multiple splits
- ✅ All files from original effort covered
- ✅ Each split targets <700 lines (well under 800 limit)
- ✅ Dependencies properly ordered
- ✅ Each split can compile independently (with proper interfaces)
- ✅ Complete coverage with no gaps

## Branch Strategy
- Parent Branch: `idpbuilder-oci-build-push/phase1/wave1/kind-cert-extraction`
- Split 001: `idpbuilder-oci-build-push/phase1/wave1/kind-cert-extraction-split-001`
- Split 002: `idpbuilder-oci-build-push/phase1/wave1/kind-cert-extraction-split-002`
- Split 003: `idpbuilder-oci-build-push/phase1/wave1/kind-cert-extraction-split-003`
- Split 004: `idpbuilder-oci-build-push/phase1/wave1/kind-cert-extraction-split-004`
- Split 005: `idpbuilder-oci-build-push/phase1/wave1/kind-cert-extraction-split-005`

## Notes
- Each split includes associated test files for its components
- Documentation and configuration files distributed as needed
- Build files (Makefile, go.mod) included in Split 001 as foundation
- Each split must maintain backward compatibility with feature flags